{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { useEffect, useRef } from 'react';\nimport { makeMutable } from \"../core\";\nimport NativeReanimated from \"../NativeReanimated\";\nexport var SensorType;\n\n(function (SensorType) {\n  SensorType[SensorType[\"ACCELEROMETER\"] = 1] = \"ACCELEROMETER\";\n  SensorType[SensorType[\"GYROSCOPE\"] = 2] = \"GYROSCOPE\";\n  SensorType[SensorType[\"GRAVITY\"] = 3] = \"GRAVITY\";\n  SensorType[SensorType[\"MAGNETIC_FIELD\"] = 4] = \"MAGNETIC_FIELD\";\n  SensorType[SensorType[\"ROTATION\"] = 5] = \"ROTATION\";\n})(SensorType || (SensorType = {}));\n\nexport function useAnimatedSensor(sensorType, userConfig) {\n  var ref = useRef({\n    sensor: null,\n    unregister: function unregister() {},\n    isAvailable: false,\n    config: {\n      interval: 0\n    }\n  });\n\n  if (ref.current.sensor === null) {\n    ref.current.config = _extends({\n      interval: 10\n    }, userConfig);\n    var sensorData;\n\n    if (sensorType === SensorType.ROTATION) {\n      sensorData = {\n        qw: 0,\n        qx: 0,\n        qy: 0,\n        qz: 0,\n        yaw: 0,\n        pitch: 0,\n        roll: 0\n      };\n    } else {\n      sensorData = {\n        x: 0,\n        y: 0,\n        z: 0\n      };\n    }\n\n    ref.current.sensor = makeMutable(sensorData);\n  }\n\n  useEffect(function () {\n    ref.current.config = _extends({\n      interval: 10\n    }, userConfig);\n    var id = NativeReanimated.registerSensor(sensorType, ref.current.config.interval, ref.current.sensor);\n\n    if (id !== -1) {\n      ref.current.unregister = function () {\n        return NativeReanimated.unregisterSensor(id);\n      };\n\n      ref.current.isAvailable = true;\n    } else {\n      ref.current.unregister = function () {};\n\n      ref.current.isAvailable = false;\n    }\n\n    return function () {\n      ref.current.unregister();\n    };\n  }, [sensorType, userConfig]);\n  return ref.current;\n}","map":{"version":3,"names":["useEffect","useRef","makeMutable","NativeReanimated","SensorType","useAnimatedSensor","sensorType","userConfig","ref","sensor","unregister","isAvailable","config","interval","current","sensorData","ROTATION","qw","qx","qy","qz","yaw","pitch","roll","x","y","z","id","registerSensor","unregisterSensor"],"sources":["/Users/essam/Documents/GitHub/Quizzery-React-Native/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedSensor.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { makeMutable } from '../core';\nimport NativeReanimated from '../NativeReanimated';\nexport var SensorType;\n(function (SensorType) {\n    SensorType[SensorType[\"ACCELEROMETER\"] = 1] = \"ACCELEROMETER\";\n    SensorType[SensorType[\"GYROSCOPE\"] = 2] = \"GYROSCOPE\";\n    SensorType[SensorType[\"GRAVITY\"] = 3] = \"GRAVITY\";\n    SensorType[SensorType[\"MAGNETIC_FIELD\"] = 4] = \"MAGNETIC_FIELD\";\n    SensorType[SensorType[\"ROTATION\"] = 5] = \"ROTATION\";\n})(SensorType || (SensorType = {}));\nexport function useAnimatedSensor(sensorType, userConfig) {\n    const ref = useRef({\n        sensor: null,\n        unregister: () => {\n            // NOOP\n        },\n        isAvailable: false,\n        config: {\n            interval: 0,\n        },\n    });\n    if (ref.current.sensor === null) {\n        ref.current.config = Object.assign({ interval: 10 }, userConfig);\n        let sensorData;\n        if (sensorType === SensorType.ROTATION) {\n            sensorData = {\n                qw: 0,\n                qx: 0,\n                qy: 0,\n                qz: 0,\n                yaw: 0,\n                pitch: 0,\n                roll: 0,\n            };\n        }\n        else {\n            sensorData = {\n                x: 0,\n                y: 0,\n                z: 0,\n            };\n        }\n        ref.current.sensor = makeMutable(sensorData);\n    }\n    useEffect(() => {\n        ref.current.config = Object.assign({ interval: 10 }, userConfig);\n        const id = NativeReanimated.registerSensor(sensorType, ref.current.config.interval, ref.current.sensor);\n        if (id !== -1) {\n            // if sensor is available\n            ref.current.unregister = () => NativeReanimated.unregisterSensor(id);\n            ref.current.isAvailable = true;\n        }\n        else {\n            // if sensor is unavailable\n            ref.current.unregister = () => {\n                // NOOP\n            };\n            ref.current.isAvailable = false;\n        }\n        return () => {\n            ref.current.unregister();\n        };\n    }, [sensorType, userConfig]);\n    return ref.current;\n}\n"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,SAASC,WAAT;AACA,OAAOC,gBAAP;AACA,OAAO,IAAIC,UAAJ;;AACP,CAAC,UAAUA,UAAV,EAAsB;EACnBA,UAAU,CAACA,UAAU,CAAC,eAAD,CAAV,GAA8B,CAA/B,CAAV,GAA8C,eAA9C;EACAA,UAAU,CAACA,UAAU,CAAC,WAAD,CAAV,GAA0B,CAA3B,CAAV,GAA0C,WAA1C;EACAA,UAAU,CAACA,UAAU,CAAC,SAAD,CAAV,GAAwB,CAAzB,CAAV,GAAwC,SAAxC;EACAA,UAAU,CAACA,UAAU,CAAC,gBAAD,CAAV,GAA+B,CAAhC,CAAV,GAA+C,gBAA/C;EACAA,UAAU,CAACA,UAAU,CAAC,UAAD,CAAV,GAAyB,CAA1B,CAAV,GAAyC,UAAzC;AACH,CAND,EAMGA,UAAU,KAAKA,UAAU,GAAG,EAAlB,CANb;;AAOA,OAAO,SAASC,iBAAT,CAA2BC,UAA3B,EAAuCC,UAAvC,EAAmD;EACtD,IAAMC,GAAG,GAAGP,MAAM,CAAC;IACfQ,MAAM,EAAE,IADO;IAEfC,UAAU,EAAE,sBAAM,CAEjB,CAJc;IAKfC,WAAW,EAAE,KALE;IAMfC,MAAM,EAAE;MACJC,QAAQ,EAAE;IADN;EANO,CAAD,CAAlB;;EAUA,IAAIL,GAAG,CAACM,OAAJ,CAAYL,MAAZ,KAAuB,IAA3B,EAAiC;IAC7BD,GAAG,CAACM,OAAJ,CAAYF,MAAZ,GAAqB,SAAc;MAAEC,QAAQ,EAAE;IAAZ,CAAd,EAAgCN,UAAhC,CAArB;IACA,IAAIQ,UAAJ;;IACA,IAAIT,UAAU,KAAKF,UAAU,CAACY,QAA9B,EAAwC;MACpCD,UAAU,GAAG;QACTE,EAAE,EAAE,CADK;QAETC,EAAE,EAAE,CAFK;QAGTC,EAAE,EAAE,CAHK;QAITC,EAAE,EAAE,CAJK;QAKTC,GAAG,EAAE,CALI;QAMTC,KAAK,EAAE,CANE;QAOTC,IAAI,EAAE;MAPG,CAAb;IASH,CAVD,MAWK;MACDR,UAAU,GAAG;QACTS,CAAC,EAAE,CADM;QAETC,CAAC,EAAE,CAFM;QAGTC,CAAC,EAAE;MAHM,CAAb;IAKH;;IACDlB,GAAG,CAACM,OAAJ,CAAYL,MAAZ,GAAqBP,WAAW,CAACa,UAAD,CAAhC;EACH;;EACDf,SAAS,CAAC,YAAM;IACZQ,GAAG,CAACM,OAAJ,CAAYF,MAAZ,GAAqB,SAAc;MAAEC,QAAQ,EAAE;IAAZ,CAAd,EAAgCN,UAAhC,CAArB;IACA,IAAMoB,EAAE,GAAGxB,gBAAgB,CAACyB,cAAjB,CAAgCtB,UAAhC,EAA4CE,GAAG,CAACM,OAAJ,CAAYF,MAAZ,CAAmBC,QAA/D,EAAyEL,GAAG,CAACM,OAAJ,CAAYL,MAArF,CAAX;;IACA,IAAIkB,EAAE,KAAK,CAAC,CAAZ,EAAe;MAEXnB,GAAG,CAACM,OAAJ,CAAYJ,UAAZ,GAAyB;QAAA,OAAMP,gBAAgB,CAAC0B,gBAAjB,CAAkCF,EAAlC,CAAN;MAAA,CAAzB;;MACAnB,GAAG,CAACM,OAAJ,CAAYH,WAAZ,GAA0B,IAA1B;IACH,CAJD,MAKK;MAEDH,GAAG,CAACM,OAAJ,CAAYJ,UAAZ,GAAyB,YAAM,CAE9B,CAFD;;MAGAF,GAAG,CAACM,OAAJ,CAAYH,WAAZ,GAA0B,KAA1B;IACH;;IACD,OAAO,YAAM;MACTH,GAAG,CAACM,OAAJ,CAAYJ,UAAZ;IACH,CAFD;EAGH,CAlBQ,EAkBN,CAACJ,UAAD,EAAaC,UAAb,CAlBM,CAAT;EAmBA,OAAOC,GAAG,CAACM,OAAX;AACH"},"metadata":{},"sourceType":"module"}