{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SetShownQuestion } from \"../../../redux/slices/quiz\";\nimport { SetSelectedChoice } from \"../../../redux/slices/quiz\";\nimport { SetModalVisible } from \"../../../redux/slices/quiz\";\nimport { SetFinishFlag } from \"../../../redux/slices/quiz\";\nimport { IsTraversing } from \"../../../redux/slices/quiz\";\nimport { Colors } from \"../../../redux/slices/settings\";\nimport { SetComingFromHome } from \"../../../redux/slices/settings\";\nimport { SetIsCorrect } from \"../../../redux/slices/quiz\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function NavigationSection(_ref) {\n  var navigation = _ref.navigation,\n      totalCount = _ref.totalCount;\n  var dispatch = useDispatch();\n  var isTraversing = useSelector(IsTraversing);\n  var currentQuestion = useSelector(function (state) {\n    return state.quiz.currentQuestion;\n  });\n  var _ref2 = [useSelector(function (state) {\n    return state.quiz.shownQuestion;\n  }), function (payload) {\n    return dispatch(SetShownQuestion(payload));\n  }],\n      shownQuestion = _ref2[0],\n      setShownQuestion = _ref2[1];\n  var _ref3 = [useSelector(function (state) {\n    return state.quiz.finishFlag;\n  }), function (payload) {\n    return dispatch(SetFinishFlag(payload));\n  }],\n      finishFlag = _ref3[0],\n      setFinishFlag = _ref3[1];\n\n  var setSelectedChoice = function setSelectedChoice(payload) {\n    return dispatch(SetSelectedChoice(payload));\n  };\n\n  var setModalVisible = function setModalVisible(payload) {\n    return dispatch(SetModalVisible(payload));\n  };\n\n  var isCorrect = useSelector(function (state) {\n    return state.quiz.isCorrect;\n  });\n\n  var setIsCorrect = function setIsCorrect(payload) {\n    return dispatch(SetIsCorrect(payload));\n  };\n\n  var colors = useSelector(Colors);\n\n  var setComingFromHome = function setComingFromHome(payload) {\n    return dispatch(SetComingFromHome(payload));\n  };\n\n  var handleSubmit = function handleSubmit() {\n    if (finishFlag) {\n      navigation.navigate('StatsScreen');\n      setComingFromHome(false);\n    }\n\n    if (isCorrect != -1 && !finishFlag) {\n      setModalVisible(true);\n    }\n\n    if (currentQuestion == totalCount - 1) {\n      setFinishFlag(true);\n    }\n  };\n\n  var handleNext = function handleNext() {\n    if (shownQuestion + 1 == currentQuestion) setIsCorrect(-1);\n    setShownQuestion((shownQuestion + 1) % totalCount);\n  };\n\n  var handleBack = function handleBack() {\n    if (shownQuestion > 0 && shownQuestion < totalCount) {\n      setShownQuestion((shownQuestion - 1) % totalCount);\n      setSelectedChoice(-1);\n      setIsCorrect(-1);\n    }\n  };\n\n  useEffect(function () {\n    if (currentQuestion === totalCount - 1) {\n      setFinishFlag(true);\n    }\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: [styles.submitContainer, {\n        backgroundColor: colors.light,\n        borderColor: colors.border\n      }, isCorrect == -1 && !isTraversing ? {\n        backgroundColor: colors.dark\n      } : {\n        backgroundColor: colors.light\n      }],\n      children: _jsx(TouchableOpacity, {\n        style: [styles.submit],\n        onPress: function onPress() {\n          return !isTraversing || currentQuestion == totalCount && shownQuestion == totalCount - 1 ? handleSubmit() : handleNext();\n        },\n        children: !isTraversing || currentQuestion == totalCount && shownQuestion == totalCount - 1 ? _jsx(Text, {\n          style: [styles.submitText, isCorrect != -1 && {\n            color: colors.dark\n          }, isCorrect == -1 && fini && {\n            color: colors.light\n          }],\n          children: finishFlag ? 'See Results' : 'Submit'\n        }) : _jsx(Text, {\n          style: [styles.submitText, {\n            color: colors.dark\n          }],\n          children: \"Next Question\"\n        })\n      })\n    }), shownQuestion > 0 && _jsx(View, {\n      style: [styles.submitContainer, {\n        borderColor: colors.dark,\n        backgroundColor: colors.light\n      }],\n      children: _jsx(TouchableOpacity, {\n        style: styles.submit,\n        onPress: function onPress() {\n          return handleBack();\n        },\n        children: _jsx(Text, {\n          style: [styles.submitText, {\n            color: colors.dark\n          }],\n          children: \"Previous Question\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    width: '93%'\n  },\n  submitContainer: {\n    maxwidth: '100%',\n    minWidth: '100%',\n    borderWidth: 2,\n    marginHorizontal: 20,\n    borderRadius: 10,\n    padding: 10,\n    marginVertical: 10\n  },\n  submitText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: 17,\n    textAlign: 'center'\n  }\n});","map":{"version":3,"names":["useEffect","useState","useSelector","useDispatch","SetShownQuestion","SetSelectedChoice","SetModalVisible","SetFinishFlag","IsTraversing","Colors","SetComingFromHome","SetIsCorrect","NavigationSection","navigation","totalCount","dispatch","isTraversing","currentQuestion","state","quiz","shownQuestion","payload","setShownQuestion","finishFlag","setFinishFlag","setSelectedChoice","setModalVisible","isCorrect","setIsCorrect","colors","setComingFromHome","handleSubmit","navigate","handleNext","handleBack","styles","container","submitContainer","backgroundColor","light","borderColor","border","dark","submit","submitText","color","fini","StyleSheet","create","flex","alignItems","width","maxwidth","minWidth","borderWidth","marginHorizontal","borderRadius","padding","marginVertical","fontFamily","fontSize","textAlign"],"sources":["/Users/essam/Documents/GitHub/Quizzery-React-Native/components/QuizScreen/subcomponents/NavigationSection.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity } from 'react-native';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SetShownQuestion } from \"../../../redux/slices/quiz\";\nimport { SetSelectedChoice } from \"../../../redux/slices/quiz\";\nimport { SetModalVisible } from \"../../../redux/slices/quiz\";\nimport { SetFinishFlag  } from '../../../redux/slices/quiz';\nimport { IsTraversing } from '../../../redux/slices/quiz';\nimport { Colors } from '../../../redux/slices/settings';\nimport { SetComingFromHome } from '../../../redux/slices/settings';\nimport { SetIsCorrect } from '../../../redux/slices/quiz';\n\nexport default function NavigationSection({ navigation,  totalCount }) {\n   const dispatch = useDispatch();\n   const isTraversing = useSelector(IsTraversing);\n   const  currentQuestion  = useSelector(state => state.quiz.currentQuestion)\n   const [shownQuestion , setShownQuestion] = [ useSelector(state => state.quiz.shownQuestion), (payload) => dispatch(SetShownQuestion(payload))];\n   const [finishFlag, setFinishFlag] = [ useSelector(state => state.quiz.finishFlag), (payload) => dispatch(SetFinishFlag(payload))];\n   const setSelectedChoice = (payload) => dispatch(SetSelectedChoice(payload));\n   const setModalVisible = (payload) => dispatch(SetModalVisible(payload));\n   const isCorrect = useSelector(state => state.quiz.isCorrect);\n   const setIsCorrect = (payload) => dispatch(SetIsCorrect(payload))\n   const colors = useSelector(Colors)\n   const setComingFromHome = (payload)=> dispatch(SetComingFromHome(payload))\n   const handleSubmit = () => {\n      if(finishFlag){\n         navigation.navigate('StatsScreen')\n         setComingFromHome(false)\n      }\n      if (isCorrect != -1 && !finishFlag) {\n         setModalVisible(true);\n      }\n      if(currentQuestion == totalCount-1){\n         setFinishFlag(true);\n      }\n     \n      \n   }\n\n   const handleNext = () => {\n      if(shownQuestion + 1 == currentQuestion)   setIsCorrect(-1)\n      setShownQuestion((shownQuestion + 1) % totalCount);\n      \n   }\n\n   const handleBack = () => {\n      if (shownQuestion > 0 && shownQuestion < totalCount) {\n         setShownQuestion((shownQuestion - 1) % totalCount);\n         setSelectedChoice(-1);\n         setIsCorrect(-1)\n      }\n   }\n\n   useEffect(() => {\n      if(currentQuestion===totalCount-1){\n         setFinishFlag(true);\n      }},[]);\n\n\n   return (\n      <View style={styles.container}>\n         <View style={[styles.submitContainer, { backgroundColor: colors.light, borderColor: colors.border }, (isCorrect == -1 && !isTraversing) ? { backgroundColor: colors.dark } : { backgroundColor: colors.light }]}>\n            <TouchableOpacity style={[styles.submit]} onPress={() => (!isTraversing || ((currentQuestion == totalCount) && (shownQuestion == totalCount - 1))) ? handleSubmit():handleNext() }>\n               {(!isTraversing || ((currentQuestion == totalCount) && (shownQuestion == totalCount - 1))) ?\n                  (\n                     <Text style={[styles.submitText,  (isCorrect != -1) && { color: colors.dark, }, ((isCorrect == -1) && fini) && { color: colors.light }]} >\n                        {( finishFlag ) ? 'See Results' : 'Submit'}\n                     </Text>\n                  )\n                  : (\n                     <Text style={[styles.submitText, { color: colors.dark, }]} >\n                        Next Question\n                     </Text>\n                  )\n               }\n            </TouchableOpacity>\n         </View>\n         {(shownQuestion > 0) &&\n            <View style={[styles.submitContainer, { borderColor: colors.dark, backgroundColor: colors.light }]}>\n               <TouchableOpacity style={styles.submit} onPress={() => handleBack()}>\n                  <Text style={[styles.submitText, { color: colors.dark }]}>\n                     Previous Question\n                  </Text>\n               </TouchableOpacity>\n            </View>\n         }\n      </View>\n   )\n}\n\n\nconst styles = StyleSheet.create({\n   container: {\n      flex: 1,\n      alignItems: 'center',\n      width: '93%'\n   },\n\n   submitContainer: {\n      maxwidth: '100%',\n      minWidth: '100%',\n      borderWidth: 2,\n      marginHorizontal: 20,\n      borderRadius: 10,\n      padding: 10,\n      marginVertical: 10,\n   },\n   submitText: {\n      fontFamily: 'Poppins-Bold',\n      fontSize: 17,\n      textAlign: 'center'\n   }\n});\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}